<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„Ø¹Ø¨Ø© ØªØ¹Ù„ÙŠÙ… Ø­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª</title>
    <style>
        /* Ø£Ù†Ù…Ø§Ø· Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¹Ø§Ù…Ø© */
        body {
            font-family: 'Cairo', Arial, sans-serif;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .container {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 800px;
            padding: 20px;
            text-align: center;
            margin: 20px 0;
        }
        
        h1 {
            color: #2575fc;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        h2 {
            color: #6a11cb;
            font-size: 1.8rem;
            margin: 20px 0;
        }
        
        p {
            font-size: 1.2rem;
            line-height: 1.6;
            margin: 15px 0;
        }
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© */
        #start-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .game-character {
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            border-radius: 50%;
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù„Ø¹Ø¨Ø© */
        .btn {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }
        
        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© */
        .equation-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 30px 0;
            font-size: 2rem;
            flex-wrap: wrap;
        }
        
        .equation-part {
            margin: 0 10px;
            min-width: 50px;
            text-align: center;
            padding: 10px 15px;
            background-color: #f8f9fa;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        
        /* Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù„Ø¹Ø¨Ø© */
        .tools-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        
        .tool {
            width: 60px;
            height: 60px;
            margin: 10px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: grab;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.2s ease;
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            color: white;
        }
        
        .tool:hover {
            transform: scale(1.1);
        }
        
        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¥Ø³Ù‚Ø§Ø· */
        .drop-zone {
            width: 80px;
            height: 80px;
            border: 2px dashed #6a11cb;
            border-radius: 10px;
            margin: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(37, 117, 252, 0.1);
        }
        
        /* Ø§Ù„ØªÙ‚Ø¯Ù… ÙˆØ§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª */
        .progress-container {
            width: 100%;
            background-color: #e9ecef;
            border-radius: 50px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 20px;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            border-radius: 50px;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .level-indicator {
            font-size: 1.5rem;
            font-weight: bold;
            color: #6a11cb;
            margin: 10px 0;
        }
        
        /* Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø© */
        .feedback {
            font-size: 1.2rem;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }
        
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        /* Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ© */
        .screen {
            display: none;
        }
        
        .active {
            display: block;
        }
        
        /* Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª */
        .instructions {
            background-color: #e9ecef;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: right;
        }
        
        /* Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø¨ØµØ±ÙŠØ© */
        @keyframes celebrate {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .celebrate {
            animation: celebrate 0.5s ease-in-out 3;
        }
        
        /* Ø§Ù„ØªÙƒÙŠÙ Ù…Ø¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
        @media (max-width: 768px) {
            .container {
                width: 95%;
                padding: 15px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            .equation-container {
                font-size: 1.5rem;
            }
            
            .tool {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
        <div id="start-screen" class="screen active">
            <h1>Ù„Ø¹Ø¨Ø© ØªØ¹Ù„ÙŠÙ… Ø­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª</h1>
            <div class="game-character">ğŸ§®</div>
            <p>Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ù…ØºØ§Ù…Ø±Ø© ØªØ¹Ù„Ù… Ø­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ù…Ù† Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ù…ØªØ© ÙˆØªÙØ§Ø¹Ù„ÙŠØ©!</p>
            <p>Ø³ÙˆÙ ØªØªØ¹Ù„Ù… Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ© Ø­ØªÙ‰ ØªØªÙ‚Ù† Ø­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø¨ÙƒÙ„ Ø³Ù‡ÙˆÙ„Ø©.</p>
            <button class="btn" onclick="showScreen('level-select-screen')">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
            <button class="btn" onclick="showScreen('instructions-screen')">ÙƒÙŠÙÙŠØ© Ø§Ù„Ù„Ø¹Ø¨</button>
        </div>
        
        <!-- Ø´Ø§Ø´Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø³ØªÙˆÙ‰ -->
        <div id="level-select-screen" class="screen">
            <h2>Ø§Ø®ØªØ± Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©</h2>
            <button class="btn" onclick="startGame(1)">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„: Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø¨Ø³ÙŠØ·Ø©</button>
            <button class="btn" onclick="startGame(2)">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ø§Ù†ÙŠ: Ø¬Ù…Ø¹ ÙˆØ·Ø±Ø­ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª</button>
            <button class="btn" onclick="startGame(3)">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ø§Ù„Ø«: Ø¶Ø±Ø¨ ÙˆÙ‚Ø³Ù…Ø© Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª</button>
            <button class="btn" onclick="startGame(4)">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…: Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø®Ø·ÙˆØ§Øª</button>
            <button class="btn" onclick="showScreen('start-screen')">Ø±Ø¬ÙˆØ¹</button>
        </div>
        
        <!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª -->
        <div id="instructions-screen" class="screen">
            <h2>ÙƒÙŠÙÙŠØ© Ø§Ù„Ù„Ø¹Ø¨</h2>
            <div class="instructions">
                <p>1. Ù‡Ø¯ÙÙƒ Ù‡Ùˆ Ø¹Ø²Ù„ Ø§Ù„Ù…ØªØºÙŠØ± (Ø³) Ø¹Ù„Ù‰ Ø¬Ø§Ù†Ø¨ ÙˆØ§Ø­Ø¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©</p>
                <p>2. Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø¹Ù„Ù‰ ÙƒÙ„Ø§ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠÙ†</p>
                <p>3. ÙŠØ¬Ø¨ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ ØªÙˆØ§Ø²Ù† Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø¨ØªØ·Ø¨ÙŠÙ‚ Ù†ÙØ³ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠÙ†</p>
                <p>4. ØªÙ‚Ø¯Ù… Ø¹Ø¨Ø± Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ù„ØªØ¹Ù„Ù… ØªÙ‚Ù†ÙŠØ§Øª Ø£ÙƒØ«Ø± ØªÙ‚Ø¯Ù…Ø§Ù‹</p>
                <p>5. Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø²Ø± "ØªÙ„Ù…ÙŠØ­" Ø¥Ø°Ø§ Ø§Ø­ØªØ¬Øª Ø¥Ù„Ù‰ Ù…Ø³Ø§Ø¹Ø¯Ø©</p>
            </div>
            <button class="btn" onclick="showScreen('start-screen')">Ø±Ø¬ÙˆØ¹</button>
        </div>
        
        <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
        <div id="game-screen" class="screen">
            <h2 id="level-title">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1: Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø¨Ø³ÙŠØ·Ø©</h2>
            <div class="level-indicator">Ø§Ù„Ù…Ø³ØªÙˆÙ‰: <span id="current-level">1</span></div>
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            
            <div class="equation-container">
                <div class="equation-part" id="left-side">Ø³ + 3</div>
                <div class="equation-part">=</div>
                <div class="equation-part" id="right-side">7</div>
            </div>
            
            <div class="tools-container">
                <div class="tool" onclick="useTool('add')">+</div>
                <div class="tool" onclick="useTool('subtract')">-</div>
                <div class="tool" onclick="useTool('multiply')">Ã—</div>
                <div class="tool" onclick="useTool('divide')">Ã·</div>
                <div class="tool" onclick="useTool('number')">2</div>
                <div class="tool" onclick="useTool('hint')">ğŸ’¡</div>
            </div>
            
            <div id="feedback" class="feedback"></div>
            
            <button class="btn" onclick="checkSolution()">ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ù„</button>
            <button class="btn" onclick="resetEquation()">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
            <button class="btn" onclick="showScreen('level-select-screen')">Ø§Ø®ØªÙŠØ§Ø± Ù…Ø³ØªÙˆÙ‰ Ø¢Ø®Ø±</button>
        </div>
        
        <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ -->
        <div id="success-screen" class="screen">
            <h2>Ø£Ø­Ø³Ù†Øª! Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø¨Ù†Ø¬Ø§Ø­</h2>
            <div class="game-character celebrate">ğŸ‰</div>
            <p>Ù„Ù‚Ø¯ ØªÙ…ÙƒÙ†Øª Ù…Ù† Ø­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­</p>
            <p id="success-message">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ Ø³ÙŠÙƒÙˆÙ† Ø£ÙƒØ«Ø± ØªØ­Ø¯ÙŠØ§Ù‹!</p>
            <button class="btn" onclick="nextLevel()">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ</button>
            <button class="btn" onclick="showScreen('level-select-screen')">Ø§Ø®ØªÙŠØ§Ø± Ù…Ø³ØªÙˆÙ‰ Ø¢Ø®Ø±</button>
        </div>
    </div>

    <script>
        // Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        const gameState = {
            currentLevel: 1,
            progress: 0,
            equation: {
                left: "Ø³ + 3",
                right: "7",
                solution: 4
            },
            steps: 0,
            maxSteps: 0
        };
        
        // Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ù„ÙƒÙ„ Ù…Ø³ØªÙˆÙ‰
        const levels = [
            // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1: Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø¨Ø³ÙŠØ·Ø©
            [
                { left: "Ø³ + 2", right: "5", solution: 3 },
                { left: "Ø³ - 3", right: "4", solution: 7 },
                { left: "Ø³ + 5", right: "9", solution: 4 }
            ],
            // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 2: Ø¬Ù…Ø¹ ÙˆØ·Ø±Ø­ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
            [
                { left: "2Ø³ + 3", right: "11", solution: 4 },
                { left: "3Ø³ - 4", right: "8", solution: 4 },
                { left: "5Ø³ + 1", right: "16", solution: 3 }
            ],
            // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 3: Ø¶Ø±Ø¨ ÙˆÙ‚Ø³Ù…Ø© Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
            [
                { left: "Ø³ / 2", right: "4", solution: 8 },
                { left: "3Ø³", right: "15", solution: 5 },
                { left: "Ø³ / 3", right: "3", solution: 9 }
            ],
            // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 4: Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø®Ø·ÙˆØ§Øª
            [
                { left: "2Ø³ + 3", right: "Ø³ + 7", solution: 4 },
                { left: "3Ø³ - 2", right: "2Ø³ + 5", solution: 7 },
                { left: "4Ø³ + 1", right: "2Ø³ + 9", solution: 4 }
            ]
        ];
        
        // Ø¹Ø±Ø¶ Ø´Ø§Ø´Ø© Ù…Ø­Ø¯Ø¯Ø© ÙˆØ¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ø®Ø±Ù‰
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }
        
        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ù…Ø³ØªÙˆÙ‰ Ù…Ø­Ø¯Ø¯
        function startGame(level) {
            gameState.currentLevel = level;
            gameState.progress = 0;
            updateProgressBar();
            loadRandomEquation(level);
            document.getElementById('current-level').textContent = level;
            document.getElementById('level-title').textContent = `Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${level}: ${getLevelTitle(level)}`;
            showScreen('game-screen');
        }
        
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø³ØªÙˆÙ‰
        function getLevelTitle(level) {
            const titles = [
                "",
                "Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø¨Ø³ÙŠØ·Ø©",
                "Ø¬Ù…Ø¹ ÙˆØ·Ø±Ø­ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª",
                "Ø¶Ø±Ø¨ ÙˆÙ‚Ø³Ù…Ø© Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª",
                "Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø®Ø·ÙˆØ§Øª"
            ];
            return titles[level];
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ù…Ø¹Ø§Ø¯Ù„Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù„Ù„Ù…Ø³ØªÙˆÙ‰
        function loadRandomEquation(level) {
            const levelEquations = levels[level - 1];
            const randomIndex = Math.floor(Math.random() * levelEquations.length);
            gameState.equation = {...levelEquations[randomIndex]};
            gameState.steps = 0;
            gameState.maxSteps = calculateMaxSteps(gameState.equation);
            
            document.getElementById('left-side').textContent = gameState.equation.left;
            document.getElementById('right-side').textContent = gameState.equation.right;
            
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø©
            document.getElementById('feedback').style.display = 'none';
        }
        
        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
        function calculateMaxSteps(equation) {
            // Ù‡Ø°Ù‡ Ø¯Ù…ÙŠØ© - ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ø³ØªØ­Ø³Ø¨ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©
            return 3;
        }
        
        // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø¯Ø§Ø© Ù…Ù† Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
        function useTool(tool) {
            if (tool === 'hint') {
                showHint();
                return;
            }
            
            // ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ ÙƒØ§Ù…Ù„ØŒ Ø³ÙŠØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø£Ø¯Ø§Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©
            gameState.steps++;
            showFeedback(`ØªÙ… ØªØ·Ø¨ÙŠÙ‚ ${getToolName(tool)} Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©`, 'success');
        }
        
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ø£Ø¯Ø§Ø©
        function getToolName(tool) {
            const names = {
                'add': 'Ø§Ù„Ø¬Ù…Ø¹',
                'subtract': 'Ø§Ù„Ø·Ø±Ø­',
                'multiply': 'Ø§Ù„Ø¶Ø±Ø¨',
                'divide': 'Ø§Ù„Ù‚Ø³Ù…Ø©',
                'number': 'Ø§Ù„Ø±Ù‚Ù…'
            };
            return names[tool] || tool;
        }
        
        // Ø¹Ø±Ø¶ ØªÙ„Ù…ÙŠØ­
        function showHint() {
            const hints = [
                "ØªØ°ÙƒØ±: ÙŠØ¬Ø¨ Ø£Ù† ØªØ¸Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ù…ØªÙˆØ§Ø²Ù†Ø© Ø¨ØªØ·Ø¨ÙŠÙ‚ Ù†ÙØ³ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠÙ†",
                "Ø­Ø§ÙˆÙ„ Ø¹Ø²Ù„ Ø§Ù„Ù…ØªØºÙŠØ± (Ø³) Ø¹Ù„Ù‰ Ø¬Ø§Ù†Ø¨ ÙˆØ§Ø­Ø¯",
                "Ø§Ø¨Ø¯Ø£ Ø¨Ø§Ù„ØªØ®Ù„Øµ Ù…Ù† Ø§Ù„Ø«ÙˆØ§Ø¨Øª Ù‚Ø¨Ù„ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª"
            ];
            
            const randomHint = hints[Math.floor(Math.random() * hints.length)];
            showFeedback(randomHint, 'success');
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø©
        function showFeedback(message, type) {
            const feedbackEl = document.getElementById('feedback');
            feedbackEl.textContent = message;
            feedbackEl.className = 'feedback ' + type;
            feedbackEl.style.display = 'block';
            
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø© Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†
            setTimeout(() => {
                feedbackEl.style.display = 'none';
            }, 3000);
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ù„
        function checkSolution() {
            // ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ ÙƒØ§Ù…Ù„ØŒ Ø³ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ù„ Ø§Ù„ÙØ¹Ù„ÙŠ
            // Ù‡Ù†Ø§ Ù†Ø³ØªØ®Ø¯Ù… Ù…Ø­Ø§ÙƒØ§Ø©
            
            const isCorrect = Math.random() > 0.3; // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ ÙÙŠ Ø£ØºÙ„Ø¨ Ø§Ù„Ø£Ø­ÙŠØ§Ù†
            
            if (isCorrect) {
                gameState.progress += 25;
                updateProgressBar();
                
                if (gameState.progress >= 100) {
                    showScreen('success-screen');
                } else {
                    showFeedback('Ø£Ø­Ø³Ù†Øª! Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªÙ‚Ø¯Ù…', 'success');
                    // ØªØ­Ù…ÙŠÙ„ Ù…Ø¹Ø§Ø¯Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ø¹Ø¯ ÙØªØ±Ø©
                    setTimeout(() => loadRandomEquation(gameState.currentLevel), 2000);
                }
            } else {
                showFeedback('Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªÙ„Ù…ÙŠØ­Ø§Øª Ø¥Ø°Ø§ Ø§Ø­ØªØ¬Øª Ù…Ø³Ø§Ø¹Ø¯Ø©', 'error');
            }
        }
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©
        function resetEquation() {
            loadRandomEquation(gameState.currentLevel);
            showFeedback('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©', 'success');
        }
        
        // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ
        function nextLevel() {
            if (gameState.currentLevel < levels.length) {
                startGame(gameState.currentLevel + 1);
            } else {
                showFeedback('ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª', 'success');
                showScreen('level-select-screen');
            }
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
        function updateProgressBar() {
            document.getElementById('progress-bar').style.width = gameState.progress + '%';
        }
        
        // ØªÙ‡ÙŠØ¦Ø© Ø£ÙˆÙ„ÙŠØ© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.onload = function() {
            // ØªØ­Ù…ÙŠÙ„ Ø®Ø· Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ØªØ§Ø­Ø§Ù‹
            document.body.style.fontFamily = "'Cairo', Arial, sans-serif";
            
            // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ±Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
            document.querySelector('.game-character').classList.add('celebrate');
        };
    </script>
</body>
</html>
